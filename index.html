<!DOCTYPE html>
<head>
    <title>Customer JS Library</title>
    <link rel="stylesheet" type="text/css" href="./main.css" />
    <link rel="stylesheet" type="text/css" href="./main2.css" />
</head>
<body>
    <div>
        <p>Create a button using custom library</p>
        <button>CLICK</button>
        <button>CLICK</button>
        <h2>CLICK</h2>
    </div>
    <script src="./jQuery.js"></script>
    <input type="text" value="debouncing" onkeyup="betterFunction()" />
    <div>Window resize for throttling</div>
    <script>
        var input = { a: 10, b: 20, c: 30 }; 
        sumValues(input);

        function sumValues(obj) {
            let sum = 0;
            console.log(this.input);
            Object.entries(obj).forEach(function([key, val]) {
                    sum += val;
            });
            return sum;
        }
        const a = {};
        const b = { key: 'b' }; 
        const c = { key: 'c' };
        a[b] = 123;
        a[c] = 456; 
        console.log(a[b]); // [Object Object]

        let counter = 0;
        const getData = () => {
            console.log(counter++);
        }
        const debounce = function(fn, d) {
            let timer;
            return function() {
                if(timer) {
                    clearTimeout(timer);
                }
                const context = this;
                const args = arguments;
                timer = setTimeout(() => {
                    fn.apply(context, args);
                }, d)
            }
        }
        const throttle = function(fn, d) {
            let flag = true;
            return function() {
                const context = this;
                const args = arguments;
                if(flag) {
                    fn.apply(context, args);
                    flag = false;
                    setTimeout(() => {
                        flag = true;
                    }, d)
                }
            }
        }
        let throtCounter = 0;
        const throttleData = () => {
            console.log(throtCounter++);
        }
        const betterFunction = debounce(getData, 300);
        const betterThrottleFunction = throttle(throttleData, 1000);
        window.addEventListener("resize", betterThrottleFunction);
    </script>
</body>
</html>